<div class="shopping-list-container">
<h2 class="shopping-list-title-row">
  Shopping List
  <span class="new-list-icon tooltip-wrapper" (click)="showDeleteModal = true">
    <i class="fa fa-file-alt"></i>
    <span class="custom-tooltip">new list</span>
  </span>
</h2>

<!-- Modal for confirming new list (delete) -->
<div *ngIf="showDeleteModal" class="modal-backdrop">
  <div class="modal-card confirm-modal">
    <div class="modal-title">Start a new list?</div>
    <div class="modal-message">This will delete the current list.<br> Are you sure?</div>
    <div class="modal-actions">
      <button class="fam-btn danger" (click)="deleteListAndCloseModal()">Delete</button>
      <button class="fam-btn" (click)="showDeleteModal = false">Cancel</button>
    </div>
  </div>
</div>
  <form (ngSubmit)="addItem()" #itemForm="ngForm" autocomplete="off" style="display: flex; gap: 8px; align-items: center; margin-bottom: 12px;">
    <input
      type="text"
      placeholder="Add item..."
      [(ngModel)]="newItem"
      name="item"
      required
      (keyup.enter)="addItem()"
      style="flex: 1 1 auto;"
    />
    <button class="fam-btn" type="submit" [disabled]="!newItem">Add</button>
    <button class="fam-btn" type="button" (click)="copyList()" [disabled]="!items().length">Copy List to Clipboard</button>
  </form>
  <ul>
    <li *ngFor="let item of items(); let i = index">
      {{ item }}
      <button class="fam-btn" (click)="removeItem(i)" title="Remove">&times;</button>
    </li>
  </ul>
  <div class="super-links">
    <a class="super-link" href="https://www.rami-levy.co.il/he/online/market" target="_blank" rel="noopener">Rami Levi</a>
    <a class="super-link" href="https://www.shufersal.co.il/online/he" target="_blank" rel="noopener">Shufersal</a>
    <a class="super-link" href="https://www.yochananof.co.il/" target="_blank" rel="noopener">Yochananof</a>
  </div>
</div>
